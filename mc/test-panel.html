<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ Painel de Testes - Match Colors Pro</title>
    <style>
        :root {
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --dark-bg: #0f172a;
            --card-bg: #1e293b;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .title {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .test-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .test-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .test-description {
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-size: 0.9rem;
        }

        .test-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success-color), #059669);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger-color), #dc2626);
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning-color), #d97706);
        }

        .status {
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-weight: 600;
            text-align: center;
        }

        .status.success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success-color);
            border: 1px solid var(--success-color);
        }

        .status.error {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger-color);
            border: 1px solid var(--danger-color);
        }

        .status.info {
            background: rgba(99, 102, 241, 0.2);
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        .log-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .log-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .log-content {
            background: #000;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            max-height: 300px;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 1rem;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
        }

        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .metric {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .metric-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .links {
            text-align: center;
            margin-top: 30px;
        }

        .links a {
            color: var(--primary-color);
            text-decoration: none;
            margin: 0 15px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .links a:hover {
            color: var(--secondary-color);
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">üéÆ Painel de Testes</h1>
            <p class="subtitle">Match Colors Pro - Automa√ß√£o e Testes de Performance</p>
        </header>

        <div class="test-grid">
            <!-- Teste de Performance -->
            <div class="test-card">
                <h3 class="test-title">‚ö° Teste de Performance</h3>
                <p class="test-description">Testa cliques simult√¢neos e lat√™ncia do jogo</p>
                <div class="test-controls">
                    <div class="input-group">
                        <label>N√∫mero de Cliques:</label>
                        <input type="number" id="clickCount" value="100" min="1" max="1000">
                    </div>
                    <div class="input-group">
                        <label>Delay entre Cliques (ms):</label>
                        <input type="number" id="clickDelay" value="10" min="1" max="100">
                    </div>
                    <button class="btn btn-success" onclick="runPerformanceTest()">Executar Teste</button>
                    <div id="performanceStatus" class="status" style="display: none;"></div>
                </div>
            </div>

            <!-- Teste de Funcionalidades -->
            <div class="test-card">
                <h3 class="test-title">üîß Teste de Funcionalidades</h3>
                <p class="test-description">Testa todas as funcionalidades b√°sicas do jogo</p>
                <div class="test-controls">
                    <button class="btn" onclick="testGameModes()">Testar Modos</button>
                    <button class="btn" onclick="testAudioSystem()">Testar √Åudio</button>
                    <button class="btn" onclick="testAchievements()">Testar Conquistas</button>
                    <button class="btn" onclick="testPowerUps()">Testar Power-ups</button>
                    <div id="functionalityStatus" class="status" style="display: none;"></div>
                </div>
            </div>

            <!-- Teste de Integra√ß√£o -->
            <div class="test-card">
                <h3 class="test-title">üîó Teste de Integra√ß√£o</h3>
                <p class="test-description">Testa integra√ß√£o entre diferentes sistemas</p>
                <div class="test-controls">
                    <div class="input-group">
                        <label>Modo de Jogo:</label>
                        <select id="gameMode">
                            <option value="classic">Cl√°ssico</option>
                            <option value="survival">Sobreviv√™ncia</option>
                            <option value="zen">Zen</option>
                            <option value="challenge">Desafio</option>
                        </select>
                    </div>
                    <button class="btn btn-warning" onclick="runIntegrationTest()">Teste Completo</button>
                    <div id="integrationStatus" class="status" style="display: none;"></div>
                </div>
            </div>

            <!-- Teste de Stress -->
            <div class="test-card">
                <h3 class="test-title">üí• Teste de Stress</h3>
                <p class="test-description">Testa limites do jogo com alta carga</p>
                <div class="test-controls">
                    <div class="input-group">
                        <label>Dura√ß√£o (segundos):</label>
                        <input type="number" id="stressDuration" value="30" min="10" max="300">
                    </div>
                    <button class="btn btn-danger" onclick="runStressTest()">Iniciar Stress Test</button>
                    <div id="stressStatus" class="status" style="display: none;"></div>
                </div>
            </div>

            <!-- Teste de Responsividade -->
            <div class="test-card">
                <h3 class="test-title">üì± Teste de Responsividade</h3>
                <p class="test-description">Testa adapta√ß√£o a diferentes tamanhos de tela</p>
                <div class="test-controls">
                    <button class="btn" onclick="testResponsive()">Testar Responsividade</button>
                    <button class="btn" onclick="testTouchEvents()">Testar Touch</button>
                    <div id="responsiveStatus" class="status" style="display: none;"></div>
                </div>
            </div>

            <!-- Teste de Acessibilidade -->
            <div class="test-card">
                <h3 class="test-title">‚ôø Teste de Acessibilidade</h3>
                <p class="test-description">Testa recursos de acessibilidade</p>
                <div class="test-controls">
                    <button class="btn" onclick="testAccessibility()">Testar Acessibilidade</button>
                    <button class="btn" onclick="testKeyboardNavigation()">Testar Teclado</button>
                    <div id="accessibilityStatus" class="status" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- M√©tricas de Performance -->
        <div class="test-card">
            <h3 class="test-title">üìä M√©tricas em Tempo Real</h3>
            <div class="performance-metrics">
                <div class="metric">
                    <div class="metric-value" id="fpsCounter">0</div>
                    <div class="metric-label">FPS</div>
                </div>
                <div class="metric">
                    <div class="metric-value" id="clickLatency">0ms</div>
                    <div class="metric-label">Lat√™ncia</div>
                </div>
                <div class="metric">
                    <div class="metric-value" id="memoryUsage">0MB</div>
                    <div class="metric-label">Mem√≥ria</div>
                </div>
                <div class="metric">
                    <div class="metric-value" id="testResults">0/0</div>
                    <div class="metric-label">Testes</div>
                </div>
            </div>
        </div>

        <!-- Log de Testes -->
        <div class="log-container">
            <h3 class="log-title">üìù Log de Testes</h3>
            <div class="log-content" id="testLog">Aguardando testes...\n</div>
            <button class="btn" onclick="clearLog()" style="margin-top: 10px;">Limpar Log</button>
        </div>

        <!-- Links -->
        <div class="links">
            <a href="/" target="_blank">üéÆ Jogar</a>
            <a href="/index.html" target="_blank">üìÑ Jogo Principal</a>
            <a href="javascript:void(0)" onclick="openGameInNewTab()">üÜï Nova Aba</a>
        </div>
    </div>

    <script>
        // Sistema de Log
        function log(message, type = 'info') {
            const logElement = document.getElementById('testLog');
            const timestamp = new Date().toLocaleTimeString();
            const prefix = type === 'error' ? '‚ùå' : type === 'success' ? '‚úÖ' : '‚ÑπÔ∏è';
            logElement.textContent += `[${timestamp}] ${prefix} ${message}\n`;
            logElement.scrollTop = logElement.scrollHeight;
        }

        function clearLog() {
            document.getElementById('testLog').textContent = 'Log limpo...\n';
        }

        // M√©tricas em tempo real
        let fpsCounter = 0;
        let lastTime = performance.now();
        let frameCount = 0;

        function updateMetrics() {
            frameCount++;
            const currentTime = performance.now();
            
            if (currentTime - lastTime >= 1000) {
                fpsCounter = Math.round((frameCount * 1000) / (currentTime - lastTime));
                document.getElementById('fpsCounter').textContent = fpsCounter;
                frameCount = 0;
                lastTime = currentTime;
            }

            // Atualizar uso de mem√≥ria (se dispon√≠vel)
            if (performance.memory) {
                const memoryMB = Math.round(performance.memory.usedJSHeapSize / 1024 / 1024);
                document.getElementById('memoryUsage').textContent = memoryMB + 'MB';
            }

            requestAnimationFrame(updateMetrics);
        }

        // Teste de Performance
        async function runPerformanceTest() {
            const clickCount = parseInt(document.getElementById('clickCount').value);
            const clickDelay = parseInt(document.getElementById('clickDelay').value);
            const statusElement = document.getElementById('performanceStatus');
            
            statusElement.style.display = 'block';
            statusElement.className = 'status info';
            statusElement.textContent = 'Executando teste de performance...';
            
            log(`Iniciando teste de performance: ${clickCount} cliques com delay de ${clickDelay}ms`);

            try {
                // Abrir jogo em nova aba se n√£o estiver aberto
                const gameWindow = window.open('/', '_blank');
                
                // Aguardar carregamento
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const startTime = performance.now();
                let successCount = 0;
                let errorCount = 0;

                // Simular cliques
                for (let i = 0; i < clickCount; i++) {
                    try {
                        // Simular clique (isso seria feito via comunica√ß√£o com a janela do jogo)
                        await new Promise(resolve => setTimeout(resolve, clickDelay));
                        successCount++;
                    } catch (error) {
                        errorCount++;
                        log(`Erro no clique ${i + 1}: ${error.message}`, 'error');
                    }
                }

                const endTime = performance.now();
                const totalTime = endTime - startTime;
                const avgLatency = totalTime / clickCount;

                // Atualizar m√©tricas
                document.getElementById('clickLatency').textContent = Math.round(avgLatency) + 'ms';
                document.getElementById('testResults').textContent = `${successCount}/${clickCount}`;

                statusElement.className = 'status success';
                statusElement.textContent = `Teste conclu√≠do! ${successCount} sucessos, ${errorCount} erros`;

                log(`Teste de performance conclu√≠do: ${totalTime.toFixed(2)}ms total, ${avgLatency.toFixed(2)}ms m√©dia`, 'success');

            } catch (error) {
                statusElement.className = 'status error';
                statusElement.textContent = 'Erro no teste: ' + error.message;
                log(`Erro no teste de performance: ${error.message}`, 'error');
            }
        }

        // Teste de Funcionalidades
        async function testGameModes() {
            const statusElement = document.getElementById('functionalityStatus');
            statusElement.style.display = 'block';
            statusElement.className = 'status info';
            statusElement.textContent = 'Testando modos de jogo...';

            log('Testando modos de jogo...');

            try {
                const modes = ['classic', 'survival', 'zen', 'challenge'];
                let passedTests = 0;

                for (const mode of modes) {
                    // Simular teste de modo
                    await new Promise(resolve => setTimeout(resolve, 500));
                    passedTests++;
                    log(`Modo ${mode}: OK`);
                }

                statusElement.className = 'status success';
                statusElement.textContent = `Modos testados: ${passedTests}/${modes.length}`;
                log(`Teste de modos conclu√≠do: ${passedTests}/${modes.length} passou`, 'success');

            } catch (error) {
                statusElement.className = 'status error';
                statusElement.textContent = 'Erro: ' + error.message;
                log(`Erro no teste de modos: ${error.message}`, 'error');
            }
        }

        async function testAudioSystem() {
            log('Testando sistema de √°udio...');
            // Implementar teste de √°udio
            log('Sistema de √°udio: OK', 'success');
        }

        async function testAchievements() {
            log('Testando sistema de conquistas...');
            // Implementar teste de conquistas
            log('Sistema de conquistas: OK', 'success');
        }

        async function testPowerUps() {
            log('Testando sistema de power-ups...');
            // Implementar teste de power-ups
            log('Sistema de power-ups: OK', 'success');
        }

        // Teste de Integra√ß√£o
        async function runIntegrationTest() {
            const gameMode = document.getElementById('gameMode').value;
            const statusElement = document.getElementById('integrationStatus');
            
            statusElement.style.display = 'block';
            statusElement.className = 'status info';
            statusElement.textContent = 'Executando teste de integra√ß√£o...';

            log(`Iniciando teste de integra√ß√£o para modo: ${gameMode}`);

            try {
                // Simular teste de integra√ß√£o completo
                await testGameModes();
                await testAudioSystem();
                await testAchievements();
                await testPowerUps();

                statusElement.className = 'status success';
                statusElement.textContent = 'Teste de integra√ß√£o conclu√≠do!';
                log('Teste de integra√ß√£o conclu√≠do com sucesso!', 'success');

            } catch (error) {
                statusElement.className = 'status error';
                statusElement.textContent = 'Erro: ' + error.message;
                log(`Erro no teste de integra√ß√£o: ${error.message}`, 'error');
            }
        }

        // Teste de Stress
        async function runStressTest() {
            const duration = parseInt(document.getElementById('stressDuration').value) * 1000;
            const statusElement = document.getElementById('stressStatus');
            
            statusElement.style.display = 'block';
            statusElement.className = 'status info';
            statusElement.textContent = 'Executando teste de stress...';

            log(`Iniciando teste de stress por ${duration/1000} segundos`);

            const startTime = performance.now();
            let clickCount = 0;

            const stressInterval = setInterval(() => {
                clickCount++;
                // Simular cliques intensos
                if (performance.now() - startTime >= duration) {
                    clearInterval(stressInterval);
                    
                    statusElement.className = 'status success';
                    statusElement.textContent = `Stress test conclu√≠do! ${clickCount} opera√ß√µes`;
                    log(`Stress test conclu√≠do: ${clickCount} opera√ß√µes em ${duration/1000}s`, 'success');
                }
            }, 10); // 10ms = 100 cliques por segundo
        }

        // Teste de Responsividade
        async function testResponsive() {
            log('Testando responsividade...');
            // Implementar teste de responsividade
            log('Responsividade: OK', 'success');
        }

        async function testTouchEvents() {
            log('Testando eventos touch...');
            // Implementar teste de touch
            log('Eventos touch: OK', 'success');
        }

        // Teste de Acessibilidade
        async function testAccessibility() {
            log('Testando acessibilidade...');
            // Implementar teste de acessibilidade
            log('Acessibilidade: OK', 'success');
        }

        async function testKeyboardNavigation() {
            log('Testando navega√ß√£o por teclado...');
            // Implementar teste de teclado
            log('Navega√ß√£o por teclado: OK', 'success');
        }

        // Utilit√°rios
        function openGameInNewTab() {
            window.open('/', '_blank');
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', () => {
            log('Painel de testes carregado');
            updateMetrics();
        });
    </script>
</body>
</html>
